name: Delete branch tag
on:
  workflow_dispatch: 
jobs:
  cleanup:
    runs-on: ubuntu-18.04
    steps:
    - uses: actions/delete-package-versions@v4
      with:
        # Owner of the package.
        # Defaults to the owner of the repo executing the workflow.
        # Required if deleting a version from a package hosted in a different org than the one executing the workflow.
        owner: datawhores
        # Name of the package.
        # Required
        package-name: ofscraper
        # Type of the package. Can be one of container, maven, npm, nuget, or rubygems.
        # Required
        package-type: container
        # The number of old versions to delete starting from the oldest version.
        # Defaults to 1.
        num-old-versions-to-delete: 100
        # The number of latest versions to keep.
        # This cannot be specified with `num-old-versions-to-delete`. By default, `min-versions-to-keep` takes precedence over `num-old-versions-to-delete`.
        # When set to 0, all deletable versions will be deleted.
        # When set greater than 0, all deletable package versions except the specified number will be deleted.
        min-versions-to-keep: 10
        # The token used to authenticate with GitHub Packages.
        # Defaults to github.token.
        # Required if the repo running the workflow does not have access to delete the package.
        #   For rubygems and maven package, repo has access if package is hosted in the same repo as the workflow.
        #   For container, npm and nuget package, repo has access if assigned **Admin** role under Package Settings > Manage Actions Access.
        #   If `package-version-ids` is given the token only needs the delete packages scope.
        #   If `package-version-ids` is not given the token needs the delete packages scope and the read packages scope
        token: ${{ secrets.GITHUB_TOKEN}}


